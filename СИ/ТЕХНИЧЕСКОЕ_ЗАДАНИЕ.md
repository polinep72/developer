# ТЕХНИЧЕСКОЕ ЗАДАНИЕ
## Система учета средств измерений и испытательного оборудования

---

## 1. ОБЩИЕ СВЕДЕНИЯ

### 1.1 Наименование системы
**Система учета средств измерений и испытательного оборудования**

### 1.2 Назначение системы
Автоматизация учета и контроля сроков поверки/аттестации средств измерений, испытательного и вспомогательного оборудования с интеграцией Госреестра средств измерений РФ, включая автоматический парсинг данных и МПИ с официального сайта fgis.gost.ru.

### 1.3 Основания для разработки
- Необходимость автоматизации учета оборудования
- Контроль сроков поверки/аттестации
- Соответствие требованиям метрологического надзора
- Интеграция с официальными реестрами

---

## 2. НАЗНАЧЕНИЕ И ЦЕЛИ СОЗДАНИЯ СИСТЕМЫ

### 2.1 Основные цели
- Автоматизация учета средств измерений и испытательного оборудования
- Контроль сроков поверки и аттестации
- Предотвращение использования просроченного оборудования
- Интеграция с Госреестром средств измерений
- Повышение эффективности метрологической службы

### 2.2 Назначение системы
Система предназначена для:
- Учета оборудования по категориям (СИ, ИО, ВО)
- Контроля сроков поверки/аттестации
- Хранения истории поверок
- Интеграции с официальными реестрами
- Предоставления веб-интерфейса для работы
- Автоматического парсинга данных с сайта fgis.gost.ru
- Добавления СИ в оборудование из Госреестра
- Создания записей о поверке при добавлении СИ
- Интерактивной сортировки данных по всем столбцам

---

## 3. ХАРАКТЕРИСТИКИ ОБЪЕКТОВ АВТОМАТИЗАЦИИ

### 3.1 Объекты учета
1. **Средства измерения (СИ)** - 84 единицы
2. **Испытательное оборудование (ИО)** - 2 единицы  
3. **Вспомогательное оборудование (ВО)** - 101 единица

### 3.2 Атрибуты оборудования
- Наименование и обозначение типа
- Серийный номер
- Инвентарный номер
- Год ввода в эксплуатацию
- Номер в Госреестре (для СИ)
- Примечания

### 3.3 Атрибуты поверки/аттестации
- Номер свидетельства/аттестата
- Дата проведения
- Дата следующей поверки/аттестации
- Дни до следующей поверки (автоматический расчет)
- Стоимость
- URL сертификата (ссылка на документ)

---

## 4. ТРЕБОВАНИЯ К СИСТЕМЕ

### 4.1 Требования к функциональным характеристикам

#### 4.1.1 Функции системы
1. **Учет оборудования**
   - Добавление/редактирование записей
   - Классификация по типам
   - Связь с Госреестром

2. **Контроль сроков**
   - Автоматический расчет дней до поверки
   - Цветовая индикация статуса
   - Уведомления о приближающихся сроках

3. **История поверок**
   - Хранение истории поверок/аттестаций
   - Ссылки на электронные сертификаты
   - Автоматические расчеты МПИ

4. **Интеграция с Госреестром**
   - Связь оборудования с записями Госреестра
   - Прямые ссылки на официальные страницы
   - Автоматический парсинг данных с fgis.gost.ru с помощью Selenium
   - Автоматическое извлечение МПИ (межповерочного интервала)
   - Предварительный просмотр данных включая МПИ перед добавлением
   - Fallback на requests при недоступности Selenium

5. **Добавление оборудования**
   - **СИ из Госреестра**: выбор СИ из списка, форма для дополнительных данных, автоматическое создание записи о поверке, защита от дублирования
   - **ИО**: форма с полями наименование, тип, заводской номер, МПИ (по умолчанию 1 год), опциональные поля аттестата, автоматический расчет следующей даты аттестации
   - **ВО**: форма с полями наименование, тип, заводской номер, примечание

6. **Интерактивная сортировка данных**
   - Сортировка по всем столбцам таблиц (СИ, ИО, ВО, Госреестр)
   - Визуальные индикаторы направления сортировки (⇅ ↑ ↓)
   - Умная сортировка по типам данных:
     - Числовые значения - правильное числовое сравнение
     - Даты - корректная сортировка по датам
     - Текстовые значения - алфавитная сортировка без учета регистра
   - Переключение направления сортировки одним кликом
   - Hover эффекты для интуитивного понимания возможности сортировки
   - Автоматическая сортировка по умолчанию (СИ и ИО по дате следующей поверки)

#### 4.1.2 Пользовательский интерфейс
- Веб-интерфейс с 4 вкладками (СИ, ИО, ВО, Госреестр)
- Закрепленная шапка таблиц при прокрутке
- Адаптивный дизайн для широких экранов
- Цветовая индикация статусов
- Кликабельные ссылки на документы
- Интерактивная сортировка по заголовкам столбцов

### 4.2 Требования к техническим средствам

#### 4.2.1 Аппаратные требования
- **Сервер:** Intel Core i5+, 8GB RAM, 100GB HDD
- **Клиент:** Любой компьютер с веб-браузером
- **Сеть:** Доступ к серверу БД 192.168.1.139:5432

#### 4.2.2 Программные требования
- **Сервер:** Python 3.11+, PostgreSQL 12+, Chrome/Chromium для Selenium
- **Клиент:** Современный веб-браузер (Chrome, Firefox, Edge)
- **ОС:** Windows 10+, Linux Ubuntu 18.04+
- **Дополнительно:** Selenium WebDriver 4.15+, BeautifulSoup4 4.12+, requests 2.31+ для парсинга
- **Контейнеризация:** Docker, Docker Compose для развертывания

### 4.3 Требования к информационной совместимости

#### 4.3.1 Форматы данных
- **База данных:** PostgreSQL
- **Веб-интерфейс:** HTML5, CSS3, JavaScript ES6
- **API:** JSON
- **Импорт:** Excel (.xlsx)

#### 4.3.2 Протоколы обмена
- **HTTP/HTTPS** для веб-интерфейса
- **TCP/IP** для подключения к БД
- **REST API** для интеграции

---

## 5. СОСТАВ И СОДЕРЖАНИЕ РАБОТ ПО СОЗДАНИЮ СИСТЕМЫ

### 5.1 Стадии разработки
1. **Анализ требований** - изучение предметной области
2. **Проектирование** - создание архитектуры и БД
3. **Разработка** - написание кода и интерфейса
4. **Тестирование** - проверка функциональности
5. **Внедрение** - установка и настройка
6. **Обучение** - подготовка пользователей

### 5.2 Основные компоненты
1. **Backend (Flask)**
   - Веб-сервер
   - API endpoints
   - Бизнес-логика

2. **Frontend (HTML/CSS/JS)**
   - Пользовательский интерфейс
   - Интерактивность
   - Адаптивность

3. **База данных (PostgreSQL)**
   - Структура данных
   - Триггеры и функции
   - Индексы

4. **Утилиты**
   - Импорт данных
   - Управление БД
   - Парсеры

---

## 6. ПОРЯДОК КОНТРОЛЯ И ПРИЕМКИ СИСТЕМЫ

### 6.1 Виды испытаний
1. **Функциональное тестирование**
   - Проверка всех функций системы
   - Тестирование API endpoints
   - Проверка расчетов

2. **Интеграционное тестирование**
   - Работа с БД
   - Внешние интеграции
   - Производительность

3. **Пользовательское тестирование**
   - Удобство интерфейса
   - Корректность отображения
   - Работа на разных устройствах

### 6.2 Критерии приемки
- Все функции работают согласно ТЗ
- Интерфейс соответствует требованиям
- Производительность удовлетворяет потребности
- Документация полная и актуальная

---

## 7. ТРЕБОВАНИЯ К СОСТАВУ И СОДЕРЖАНИЮ РАБОТ ПО ПОДГОТОВКЕ ОБЪЕКТА АВТОМАТИЗАЦИИ

### 7.1 Подготовка технических средств
- Установка и настройка PostgreSQL
- Настройка сетевого доступа
- Установка Python и зависимостей

### 7.2 Подготовка информационной базы
- Создание структуры БД
- Импорт исходных данных
- Настройка прав доступа

### 7.3 Подготовка персонала
- Обучение администраторов
- Инструктаж пользователей
- Создание инструкций

---

## 8. ТРЕБОВАНИЯ К ДОКУМЕНТИРОВАНИЮ

### 8.1 Техническая документация
- README.md - основная документация
- DATABASE_UPDATE_INSTRUCTIONS.md - инструкции по БД
- HOW_TO_ADD_CALIBRATION.md - добавление поверок
- TESTING.md - тестирование

### 8.2 Пользовательская документация
- Инструкция по эксплуатации
- Руководство пользователя
- FAQ (часто задаваемые вопросы)

---

## 9. ИСТОЧНИКИ РАЗРАБОТКИ

### 9.1 Нормативные документы
- Федеральный закон "Об обеспечении единства измерений"
- ГОСТ Р 8.568-97 "Аттестация испытательного оборудования"
- Приказы Росстандарта по метрологии

### 9.2 Технические стандарты
- REST API стандарты
- PostgreSQL документация
- Bootstrap 5 спецификация

---

## 10. ЭКОНОМИЧЕСКИЕ ПОКАЗАТЕЛИ

### 10.1 Ожидаемая экономическая эффективность
- Сокращение времени на поиск информации об оборудовании
- Предотвращение использования просроченного оборудования
- Автоматизация рутинных операций
- Повышение качества метрологического обслуживания

### 10.2 Затраты на разработку и внедрение
- Разработка: ~40 часов
- Внедрение: ~8 часов
- Обучение: ~4 часа
- **Общие затраты: ~52 часа**

---

**Дата составления:** Октябрь 2024  
**Версия:** 1.0  
**Статус:** Утверждено
