# Crystal Wafer Management System

Система управления складом кристаллов и пластин для ИПК ЭЛЕКТРОН-МАШ.

## Версия
**Текущая версия: 1.3.1**

## Описание проекта

Веб-приложение для управления складскими операциями с кристаллами и пластинами. Система поддерживает работу с несколькими типами складов:
- Склад кристаллов
- Склад пластин
- Дальний склад

## Основной функционал

### Управление складами
- Поиск кристаллов по различным критериям
- Загрузка данных о приходе товара
- Загрузка данных о расходе товара
- Загрузка данных о возврате товара
- Инвентаризация с фильтрацией и экспортом
- Корзина покупок с разделением по складам

### Технические особенности
- Динамический выбор таблиц БД в зависимости от типа склада
- Оптимизированная обработка больших файлов Excel
- Визуальная обратная связь при загрузке данных
- Экспорт данных в Excel с различными форматами

## Технологии

- **Backend**: Python 3.14, Flask
- **Database**: PostgreSQL
- **Frontend**: HTML, CSS, JavaScript, Jinja2 templates
- **Data Processing**: Pandas, openpyxl

## Установка и запуск

### Требования
- Python 3.14+
- PostgreSQL
- Зависимости из `requirements.txt`

### Установка зависимостей
```bash
pip install -r requirements.txt
```

### Настройка окружения
Создайте файл `.env` в корне проекта:
```
DB_HOST=192.168.1.139
DB_NAME=ElEngine
DB_USER=your_username
DB_PASSWORD=your_password
DB_PORT=5432
```

### Запуск приложения
```bash
cd web_app_WebChip
python app.py
```

Приложение будет доступно по адресу: `http://localhost:8089`

## Структура проекта

```
crystal_wafer/
├── web_app_WebChip/          # Основное веб-приложение
│   ├── app.py                # Главный файл приложения
│   ├── templates/            # HTML шаблоны
│   ├── static/               # Статические файлы (CSS, изображения)
│   └── requirements.txt      # Зависимости Python
├── CHANGELOG.md              # История изменений
├── PROJECT_CONTEXT.md        # Контекст проекта
├── SOLUTIONS_HISTORY.md      # История решений проблем
└── README.md                 # Этот файл
```

## История версий

См. [CHANGELOG.md](CHANGELOG.md) для подробной истории изменений.

### Версия 1.3.1 (2025-12-09)
- Добавлен 3D эффект для заголовков и стеклянный стиль для кнопок главной страницы
- Улучшено выравнивание элементов на странице инвентаризации

### Версия 1.3.0 (2025-12-09)
- Добавлена возможность удаления элементов из корзины
- Улучшен интерфейс корзины: единообразные размеры кнопок, вертикальное расположение
- Добавлен динамический фильтр партий при поиске
- Исправлены проблемы с агрегацией и отображением данных

### Версия 1.2.0 (2025-12-09)
- Добавлена поддержка нескольких типов складов
- Реализованы отдельные корзины для каждого склада
- Добавлены индикаторы загрузки
- Оптимизирована работа с базой данных
- Улучшена обработка ошибок

### Версия 1.1.0 (2025-12-08)
- Добавлены вкладки для разных складов
- Исправлены проблемы авторизации

## База данных

### Структура таблиц по складам:
- **Склад кристаллов**: `invoice`, `consumption`
- **Склад пластин**: `invoice_p`, `consumption_p`
- **Дальний склад**: `invoice_f`, `consumption_f`
- **Корзина**: `cart` (с полем `warehouse_type`)

## Контакты и поддержка

Для вопросов и предложений обращайтесь к команде разработки ИПК ЭЛЕКТРОН-МАШ.

## Лицензия

Внутренний проект ИПК ЭЛЕКТРОН-МАШ.

