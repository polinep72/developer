# –ò—Å—Ç–æ—Ä–∏—è —Ä–µ—à–µ–Ω–∏–π ‚Äî WSB_core

## 2025-12-09 ‚Äî –í–µ—Ä—Å–∏—è 1.0.3: –õ–æ–≥–∏–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ú–∞—Å—Å–æ–≤–∞—è –∞–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ —Å—Ç–∞—Ä—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ê–≤—Ç–æ–ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –≤–∫–ª—é—á–∞—è —Å—Ç–∞—Ä—ã–µ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –º–∞—Å—Å–æ–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∞–≤—Ç–æ–æ—Ç–º–µ–Ω–µ
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_bot, wsb_core
- **–í–ª–∏—è–Ω–∏–µ:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
- **–†–µ—à–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–æ—Ç–º–µ–Ω—ã/–∞–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏ (–Ω–µ —Å—Ç–∞—Ä—à–µ 20 –º–∏–Ω—É—Ç –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
- **–°—Ç–∞—Ç—É—Å:** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –Ω–∞—á–∞–ª–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** –í–æ—Ä–∫–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª —Å—Ç–∞—Ä—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è, –≤—Ä–µ–º—è –∫–æ—Ç–æ—Ä—ã—Ö —É–∂–µ –ø—Ä–æ—à–ª–æ
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_bot
- **–í–ª–∏—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–ª—É—á–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–∞—á–∞–ª–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–°—Ç–∞—Ç—É—Å:** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—à–ª—ã–µ –¥–Ω–∏ —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø—Ä–æ—Å –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ –Ω–µ–æ—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (`cancel = FALSE`), —á—Ç–æ —Å–∫—Ä—ã–≤–∞–ª–æ –∏—Å—Ç–æ—Ä–∏—é
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_portal
- **–í–ª–∏—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ—Ä—Ç–∞–ª–∞, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—é—â–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- **–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω —Ñ–∏–ª—å—Ç—Ä `cancel = FALSE` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è, —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏
- **–°—Ç–∞—Ç—É—Å:** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –û—à–∏–±–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –≤ booking_watcher
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î –≤–æ—Ä–∫–µ—Ä –ø–∞–¥–∞–ª —Å –æ—à–∏–±–∫–æ–π
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_core, wsb_bot
- **–í–ª–∏—è–Ω–∏–µ:** –í–æ—Ä–∫–µ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ë–î, –≤–æ—Ä–∫–µ—Ä –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ü–∏–∫–ª –ø—Ä–∏ –æ—à–∏–±–∫–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É
- **–°—Ç–∞—Ç—É—Å:** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ª–æ–≥–∏–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞—á–∞–ª–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ä–∞–∑—É —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_bot, wsb_core
- **–í–ª–∏—è–Ω–∏–µ:** –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–æ–∑–¥–∞—é—â–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å `status='planned'` –¥–ª—è –Ω–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –Ω–∞—á–∞–ª–æ" –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –æ –Ω–∞—á–∞–ª–µ
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–æ—Ç–º–µ–Ω–∞ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —á–µ—Ä–µ–∑ —Ç–∞–π–º–∞—É—Ç
- **–°—Ç–∞—Ç—É—Å:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã
- **–ü—Ä–æ–±–ª–µ–º–∞:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –±–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_bot
- **–í–ª–∏—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–ª—É—á–∞—é—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ "‚ûï –ü—Ä–æ–¥–ª–∏—Ç—å" –∏ "üö´ –ù–µ—Ç, —Å–ø–∞—Å–∏–±–æ" –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –æ–± –æ–∫–æ–Ω—á–∞–Ω–∏–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—Ç–≤–µ—Ç–∞
- **–°—Ç–∞—Ç—É—Å:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

## 2025-12-04 ‚Äî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å–ª–æ—Ç–æ–≤ –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤ 7:38 –≤–º–µ—Å—Ç–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ 9:00) —Å–ª–æ—Ç—ã –≤ `wsb_time_slots` –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–ª–∏—Å—å, –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è. –í –ø–æ—Ä—Ç–∞–ª–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –∫–∞–∫ –∑–∞–Ω—è—Ç–æ–µ –¥–æ 9:00, —Ö–æ—Ç—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±—ã–ª–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ –≤ 7:38.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ò –±–æ—Ç, –∏ –ø–æ—Ä—Ç–∞–ª —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç —Å–ª–æ—Ç—ã –ø—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏.
- **–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è `finish_booking_core` –æ–±–Ω–æ–≤–ª—è–ª–∞ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ `finish` –≤ —Ç–∞–±–ª–∏—Ü–µ `bookings`, –Ω–æ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∞ —Å–ª–æ—Ç—ã –≤ `wsb_time_slots`. –¢–∞–∫–∂–µ –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª–∞ –ø–æ–ª–µ `finish` –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- **–†–µ—à–µ–Ω–∏–µ:**
  - –í `wsb_core/slots.py` —Ñ—É–Ω–∫—Ü–∏—è `calculate_available_slots_from_bookings` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `booking.get('finish')` –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è, –µ—Å–ª–∏ –æ–Ω–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `booking['time_end']`.
  - –í `wsb_bot/services/booking_service.py` —É–¥–∞–ª–µ–Ω–æ —É—Å–ª–æ–≤–∏–µ `AND b.finish IS NULL` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ `get_bookings_by_date`, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É—á–∏—Ç—ã–≤–∞–ª–∏—Å—å –≤ —Ä–∞—Å—á—ë—Ç–µ —Å–ª–æ—Ç–æ–≤ —Å –∏—Ö —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
  - –í `wsb_core/bookings_core.py` —Ñ—É–Ω–∫—Ü–∏—è `finish_booking_core` —Ç–µ–ø–µ—Ä—å –ø—Ä–∏ `sync_slots=True` –≤—ã–∑—ã–≤–∞–µ—Ç `_sync_slots` –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Å–ª–æ—Ç–æ–≤ –≤ `wsb_time_slots` –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (`finish_time`) –¥–æ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è (`time_end`).
  - –í `wsb_portal/app/services/bookings.py` —Ñ—É–Ω–∫—Ü–∏—è `finish_booking` —Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç `finish_booking_core` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `sync_slots=True` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ü—Ä–∏ –¥–æ—Å—Ä–æ—á–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è, –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

## 2025-12-04 ‚Äî –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞ –≤ booking_service.py
- **–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏–Ω—Ç–µ—Ä –≤—ã—è–≤–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤ –≤ `wsb_bot/services/booking_service.py`:
  - –û–ø–µ—Ä–∞—Ç–æ—Ä `>` –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è —Ç–∏–ø–æ–≤ `List[Dict[str, Any]]` –∏ `Literal[0]` (—Å—Ç—Ä–æ–∫–∏ 544, 578, 750).
  - –ê—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø–∞ `Any | None` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä—É `equipment_id` —Ç–∏–ø–∞ `int` (—Å—Ç—Ä–æ–∫–∞ 721).
  - –ê—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø–∞ `dict[str, Unknown]` –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—Å–≤–æ–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä—É `params` —Ç–∏–ø–∞ `Tuple[Unknown, ...] | None` (—Å—Ç—Ä–æ–∫–∞ 749).
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core/wsb_bot
- **–í–ª–∏—è–Ω–∏–µ:** –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ª–∏–Ω—Ç–µ—Ä–∞, –∫–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è `execute_query` –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- **–†–µ—à–µ–Ω–∏–µ:**
  - –£–¥–∞–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `rows_affected > 0` –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ `execute_query` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å `fetch_results=False` (–º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `None` –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ).
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `isinstance(equip_id, int)` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `check_booking_conflict`.
  - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω —Å–ª–æ–≤–∞—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∫–æ—Ä—Ç–µ–∂ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–≤–µ–¥—ë–Ω —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `%(name)s` –Ω–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ `%s`).
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã.

## 2025-12-04 ‚Äî –Ø–¥—Ä–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (extend_booking_core)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –±–æ—Ç–µ, –≤ –ø–æ—Ä—Ç–∞–ª–µ –µ—ë –Ω–µ –±—ã–ª–æ; –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å, –ª–∏–º–∏—Ç—ã, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã) –±—ã–ª–∏ ¬´–∑–∞—à–∏—Ç—ã¬ª –ª–æ–∫–∞–ª—å–Ω–æ.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ò –±–æ—Ç, –∏ –ø–æ—Ä—Ç–∞–ª —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É –ø—Ä–æ–¥–ª–µ–Ω–∏—è.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –≤–æ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö.
- **–†–µ—à–µ–Ω–∏–µ:**
  - –í `wsb_core/bookings_core.py` –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `extend_booking_core`:
    - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ (–≤–ª–∞–¥–µ–ª–µ—Ü –±—Ä–æ–Ω–∏ –∏–ª–∏ –∞–¥–º–∏–Ω).
    - –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è (`WORKING_HOURS_END`).
    - –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –æ–±—â–∏–π –ª–∏–º–∏—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã (`MAX_BOOKING_DURATION_HOURS`).
    - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ –ø—Ä–æ–¥–ª–µ–Ω–∏—è.
    - –û–±–Ω–æ–≤–ª—è–µ—Ç `time_end`, `time_interval`, `duration`, `extension` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç `wsb_time_slots`.
  - –í `wsb_core/models.Booking` –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö —É—á—Ç–µ–Ω—ã –≤—Å–µ –ø–æ–ª—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–Ω—è—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
  - –ü–æ—Ä—Ç–∞–ª (`wsb_portal/app/services/bookings.py`) –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `extend_booking_core` –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–æ–¥–ª–µ–Ω–∏—è.
  - –ë–æ—Ç (`wsb_bot/services/booking_service.py`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `extend_booking_core` –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å –∏ –ø–∞–¥–∞–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ç–æ–ª—å–∫–æ –∫–∞–∫ fallback.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –≤ –±–æ—Ç–µ –∏ –ø–æ—Ä—Ç–∞–ª–µ –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–æ–µ —è–¥—Ä–æ.

## 2025-12-04 ‚Äî –ï–¥–∏–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (wsb_core.notifications_logic)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∞–≤–∏–ª–∞, –∫–æ–≥–¥–∞ —Å–ª–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω–∞—á–∞–ª–µ/–æ–∫–æ–Ω—á–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç –∏ –∫–æ–≥–¥–∞ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø—Ä–æ–¥–ª–µ–Ω–∏–µ, –±—ã–ª–∏ ¬´—Ä–∞–∑–º–∞–∑–∞–Ω—ã¬ª –ø–æ –∫–æ–¥—É –±–æ—Ç–∞ –∏ –ø–æ—Ä—Ç–∞–ª–∞.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ë–æ—Ç (Telegram) –∏ –ø–æ—Ä—Ç–∞–ª (e‚Äëmail) –º–æ–≥—É—Ç –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–æ–ª–∏—Ç–∏–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
- **–ü—Ä–∏—á–∏–Ω–∞:** –¢—Ä–µ–±—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π.
- **–†–µ—à–µ–Ω–∏–µ:**
  - –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `wsb_core/notifications_logic.py`:
    - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:
      - `NOTIFICATION_BEFORE_START_MINUTES = 10` ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ.
      - `NOTIFICATION_BEFORE_END_MINUTES = 10` ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å–∫–æ—Ä–æ–º –æ–∫–æ–Ω—á–∞–Ω–∏–∏.
      - `SCHEDULER_TIMEZONE = "Europe/Moscow"` ‚Äî –±–∞–∑–æ–≤–∞—è —Ç–∞–π–º–∑–æ–Ω–∞ –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.
    - –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
      - `is_booking_valid_for_start_notification(now, booking)` ‚Äî –±—Ä–æ–Ω—å –∞–∫—Ç–∏–≤–Ω–∞, –µ—â—ë –Ω–µ –Ω–∞—á–∞–ª–∞—Å—å, –¥–æ —Å—Ç–∞—Ä—Ç–∞ –Ω–µ –±–æ–ª—å—à–µ 10 –º–∏–Ω—É—Ç.
      - `is_booking_valid_for_end_notification(now, booking)` ‚Äî –±—Ä–æ–Ω—å –∞–∫—Ç–∏–≤–Ω–∞, –µ—â—ë –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å, –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ –±–æ–ª—å—à–µ 10 –º–∏–Ω—É—Ç.
    - –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–ª–µ–Ω–∏—è:
      - `can_offer_extension_on_end(booking, now, has_conflicts_in_extension_window, extension_step_minutes=None)` ‚Äî —Ä–µ—à–∞–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–ª–∏—Ç—å –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ (–±—Ä–æ–Ω—å –∞–∫—Ç–∏–≤–Ω–∞, –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –æ–∫–Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è, –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞).
  - –ú–æ–¥—É–ª—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Telegram/SMTP, —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –º–æ–¥–µ–ª—è–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º, –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –±–æ—Ç–æ–º, —Ç–∞–∫ –∏ –ø–æ—Ä—Ç–∞–ª–æ–º.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ü–æ–ª–∏—Ç–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —è–¥—Ä–æ; –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–∞–Ω–∞–ª–∞–º (–±–æ—Ç/e‚Äëmail) –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –º–∏–≥—Ä–∞—Ü–∏–∏.

## 2025-12-04 ‚Äî –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ wsb_core.models
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ú–æ–¥–µ–ª–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `wsb_core.models` –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ —Ä–µ–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î –∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ–ª—è –∏ —Å—Ç–∞—Ç—É—Å—ã.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –ø–æ—Ä—Ç–∞–ª–æ–º.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î.
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –†–∞—Å—à–∏—Ä–µ–Ω `BookingStatus` –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞ `PLANNED` (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ).
  - –†–∞—Å—à–∏—Ä–µ–Ω–∞ –º–æ–¥–µ–ª—å `Booking` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î:
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è: `cancel`, `finish`, `time_interval`, `duration`, `data_booking`.
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –∏–∑ JOIN: `user_fio`, `equipment_name`.
    - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `date` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î.
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `determine_booking_status()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª–µ–π –ë–î.
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `booking_from_db_row()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ Booking –∏–∑ —Å—Ç—Ä–æ–∫–∏ –ë–î —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ø–æ–ª–µ–π (equip_id/equipment_id, user_fi/fio, name_equip/equipment_name).
  - –†–∞—Å—à–∏—Ä–µ–Ω–∞ –º–æ–¥–µ–ª—å `User` –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–ª–µ–π `email` –∏ `is_active`.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ú–æ–¥–µ–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î.

## 2025-12-04 ‚Äî –û–±—â–∏–π –º–æ–¥—É–ª—å –ª–æ–≥–∏–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π (wsb_core/bookings_core)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ—Ç–º–µ–Ω—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∞—Å—å –≤ –ø–æ—Ä—Ç–∞–ª–µ –∏ –±–æ—Ç–µ.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ï–¥–∏–Ω–∞—è –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `wsb_time_slots`, —É–ø—Ä–æ—â–µ–Ω–∏–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.
- **–ü—Ä–∏—á–∏–Ω–∞:** –¢—Ä–µ–±—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö.
- **–†–µ—à–µ–Ω–∏–µ:**
  - –°–æ–∑–¥–∞–Ω `wsb_core/bookings_core.py` —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ `create_booking_core` –∏ `cancel_booking_core`.
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤, –≤—Å—Ç–∞–≤–∫–∞/–æ—Ç–º–µ–Ω–∞ —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º `Booking`.
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `wsb_time_slots` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `wsb_core.models`.
  - `WSB_portal/app/services/bookings.py` –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —è–¥—Ä–∞ (–∫–µ—à–∏/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø–æ—Ä—Ç–∞–ª–∞).
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ü–æ—Ä—Ç–∞–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —è–¥—Ä–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è; —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram‚Äë–±–æ—Ç–∞.

## 2025-12-04 ‚Äî –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ wsb_core.slots
- **–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∞—Å—å –≤ –±–æ—Ç–µ –∏ –ø–æ—Ä—Ç–∞–ª–µ, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è–º.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–∞ —Å–ª–æ—Ç–æ–≤ –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –ø–æ—Ä—Ç–∞–ª–æ–º.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –†–∞—Å—à–∏—Ä–µ–Ω `wsb_core/slots.py` —Ñ—É–Ω–∫—Ü–∏–µ–π `calculate_available_slots_from_bookings()` –¥–ª—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞ —Å–ª–æ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–ø–∏—Å–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.
  - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω `wsb_bot/services/booking_service.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `wsb_core.slots.calculate_available_slots_from_bookings()` –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–∫ fallback (`_calculate_available_slots_local()`) –Ω–∞ —Å–ª—É—á–∞–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ `wsb_core`.
  - –ü–æ—Ä—Ç–∞–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `wsb_time_slots` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–µ–¥—Ä–∞—Å—á–∏—Ç–∞–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏, –Ω–æ –±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —à–∞–≥–æ–≤ –∏ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –æ–±—â–∞—è.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ—Ç–æ–≤ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞, –±–æ—Ç –∏ –ø–æ—Ä—Ç–∞–ª –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–µ–µ —è–¥—Ä–æ.

## 2025-12-04 ‚Äî –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç —á–µ—Ä–µ–∑ wsb_core
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã –∏ —à–∞–≥–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–∞–ª–∏—Å—å –º–µ–∂–¥—É –±–æ—Ç–æ–º (8:00‚Äì20:00) –∏ –ø–æ—Ä—Ç–∞–ª–æ–º (7:00‚Äì22:00), —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ª–æ–≥–∏–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –ø–æ—Ä—Ç–∞–ª–æ–º.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã.
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –û–±–Ω–æ–≤–ª—ë–Ω `wsb_core/constants.py` —Å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏: 7:00‚Äì22:00, —à–∞–≥ 30 –º–∏–Ω—É—Ç, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 8 —á–∞—Å–æ–≤.
  - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω `wsb_bot/constants.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–∑ `wsb_core.constants` —Å fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.
  - –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω `wsb_bot/services/booking_service.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–∑ `wsb_core.constants`.
  - –û–±–Ω–æ–≤–ª—ë–Ω `wsb_portal/app/services/bookings.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–∑ `wsb_core.constants`.
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –≤ PYTHONPATH –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ `wsb_core`.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã, –æ–±–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `wsb_core.constants`.

## 2025-12-04 ‚Äî –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–µ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –≤ WSB_core
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º –±–æ—Ç–∞ –∏ –ø–æ—Ä—Ç–∞–ª–∞, –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—è –±–æ–µ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ `WSB/` –∏ `WSB_portal/`.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–æ–µ–≤—ã—Ö —Å–∏—Å—Ç–µ–º, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ —Ä–∏—Å–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ–µ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã (WSB_portal v0.3.8, WSB –±–æ—Ç v5.1.0), –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ `WSB_core/`.
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `WSB/` (Telegram‚Äë–±–æ—Ç) –≤ `WSB_core/wsb_bot/`:
    - `handlers/` (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ callback'–æ–≤).
    - `services/` (–±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞: booking_service, equipment_service, notification_service –∏ –¥—Ä.).
    - `utils/` (—É—Ç–∏–ª–∏—Ç—ã: keyboards, message_utils, time_utils).
    - `constants.py`, `database.py`, `config.py`, `bot_app.py`, `main.py`, `requirements.txt`.
  - –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `WSB_portal/` (–≤–µ–±‚Äë–ø–æ—Ä—Ç–∞–ª) –≤ `WSB_core/wsb_portal/`:
    - `app/` (main.py, services/, static/, templates/).
    - `Dockerfile`, `requirements.txt`.
  - –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞:
    - `wsb_core/` ‚Äî –æ–±—â–µ–µ —è–¥—Ä–æ (models, constants, slots, bookings_core, notifications_logic).
    - `wsb_bot/` ‚Äî –∫–æ–ø–∏—è Telegram‚Äë–±–æ—Ç–∞.
    - `wsb_portal/` ‚Äî –∫–æ–ø–∏—è –≤–µ–±‚Äë–ø–æ—Ä—Ç–∞–ª–∞.
- **–°—Ç–∞—Ç—É—Å:** –≤—ã–ø–æ–ª–Ω–µ–Ω–æ. –í—Å–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞. –î–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–¥—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ `WSB_core/`.

## 2025-12-08 ‚Äî –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ—Å—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_core (—è–¥—Ä–æ)
- **–í–ª–∏—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–æ–∑–¥–∞—é—â–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç.
- **–ü—Ä–∏—á–∏–Ω–∞:** –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email (—ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ—Ä—Ç–∞–ª–∞). –ü–æ—Ä—Ç–∞–ª –æ—Ç–ø—Ä–∞–≤–ª—è–ª email —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–†–µ—à–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ —è–¥—Ä–µ wsb_core:
  - –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `wsb_core/email_service.py` —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –æ—Ç–ø—Ä–∞–≤–∫–∏ email (SMTP-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ `.env`).
  - –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `wsb_core/booking_watcher.py` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ –ë–î –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ ID –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–µ–π.
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ SMTP-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `wsb_core/app_config.py`.
  - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤–æ—Ä–∫–µ—Ä –≤ –±–æ—Ç (`wsb_bot/main.py`) - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–æ–≤—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
- **–°—Ç–∞—Ç—É—Å:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ. –í–æ—Ä–∫–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email –±–µ–∑ –¥—É–±–ª–µ–π.

## 2025-12-10 ‚Äî –í–µ—Ä—Å–∏—è 1.0.4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ UI –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫

### –û–±—Ä–µ–∑–∞–Ω–∏–µ tooltip –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏–¥–∂–µ—Ç—ã"
- **–ü—Ä–æ–±–ª–µ–º–∞:** Tooltip –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏–¥–∂–µ—Ç—ã" –æ–±—Ä–µ–∑–∞–ª—Å—è —Å–ª–µ–≤–∞, –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å —á–∞—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –∏ –ø–æ—Ä—è–¥–æ–∫ –≤–∏–¥–∂–µ—Ç–æ–≤"
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_portal
- **–í–ª–∏—è–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ—Ä—Ç–∞–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏–¥–∂–µ—Ç–æ–≤
- **–ü—Ä–∏—á–∏–Ω–∞:** Tooltip –±—ã–ª –≤—ã—Ä–æ–≤–Ω–µ–Ω –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `left: 50%` –∏ `transform: translateX(-50%)`, –Ω–æ –≤—ã—Ö–æ–¥–∏–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å `overflow-x: hidden`
- **–†–µ—à–µ–Ω–∏–µ:** 
  - –ò–∑–º–µ–Ω–µ–Ω–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ tooltip –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤ `.dashboard-header` –Ω–∞ `left: 0` (–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é)
  - –î–æ–±–∞–≤–ª–µ–Ω `max-width: calc(100vw - 40px)` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ–±—Ä–µ–∑–∞–Ω–∏—è –Ω–∞ –∫—Ä–∞—è—Ö —ç–∫—Ä–∞–Ω–∞
  - –î–æ–±–∞–≤–ª–µ–Ω `overflow: visible` –¥–ª—è `.dashboard-header`, `.dashboard-panel`, `.history-subtab-content`
  - –°—Ç—Ä–µ–ª–∫–∞ tooltip —Ç–∞–∫–∂–µ –≤—ã—Ä–æ–≤–Ω–µ–Ω–∞ –ø–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é (`left: 20px`)
- **–°—Ç–∞—Ç—É—Å:** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å bcrypt —Å passlib
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–æ—Ä—Ç–∞–ª–∞ –ø–æ—è–≤–ª—è–ª–æ—Å—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ `AttributeError: module 'bcrypt' has no attribute '__about__'` –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** wsb_portal
- **–í–ª–∏—è–Ω–∏–µ:** –õ–æ–≥–∏ –ø–æ—Ä—Ç–∞–ª–∞ —Å–æ–¥–µ—Ä–∂–∞–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- **–ü—Ä–∏—á–∏–Ω–∞:** `passlib 1.7.4` –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å `bcrypt 4.3.0` (–≤ –≤–µ—Ä—Å–∏–∏ 4.x —É–¥–∞–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `__about__`)
- **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–Ω–∏–∂–µ–Ω–∞ –≤–µ—Ä—Å–∏—è `bcrypt` —Å `4.3.0` –¥–æ `3.2.2` –≤ `requirements.txt` –ø–æ—Ä—Ç–∞–ª–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å `passlib 1.7.4`
- **–°—Ç–∞—Ç—É—Å:** –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

## 2025-12-03 ‚Äî –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞ WSB_core
- **–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–≥–∏–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∞—Å—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö (WSB‚Äë–±–æ—Ç, WSB_portal, –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –≤–µ—Ä—Å–∏–∏ –±–æ—Ç–æ–≤).
- **–ü–æ–¥–ø—Ä–æ–µ–∫—Ç:** WSB_core
- **–í–ª–∏—è–Ω–∏–µ:** –í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã —Å—Ç–µ–∫–∞ WSB (–±–æ—Ç—ã, –≤–µ–±‚Äë–ø–æ—Ä—Ç–∞–ª, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞).
- **–ü—Ä–∏—á–∏–Ω–∞:** –≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ ‚Äî –∫–∞–∂–¥—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–∏–≤–∞–ª—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, –±–µ–∑ –æ–±—â–µ–≥–æ —è–¥—Ä–∞.
- **–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –ø–æ–¥–ø—Ä–æ–µ–∫—Ç `WSB_core` –¥–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∏—è –æ–±—â–∏—Ö –º–æ–¥–µ–ª–µ–π –∏ –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –≤ –µ–¥–∏–Ω—ã–π –º–æ–¥—É–ª—å.
- **–°—Ç–∞—Ç—É—Å:** –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ; –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —è–¥—Ä–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø—Ä–æ–µ–∫—Ç–∞–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—ç—Ç–∞–ø–Ω–æ.
