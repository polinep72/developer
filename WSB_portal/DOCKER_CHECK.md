# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∫ Docker

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-11-26  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 0.3.5

## ‚úÖ –ù–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **‚úÖ Dockerfile** ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Python 3.11-slim
   - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (gcc, postgresql-client)
   - –ö–æ–ø–∏—Ä—É–µ—Ç requirements.txt –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω health check
   - –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞: `uvicorn app.main:app --host 0.0.0.0 --port 8090`

2. **‚úÖ docker-compose.yml** ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - –°–µ—Ä–≤–∏—Å `wsb-portal` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - –°–µ—Ä–≤–∏—Å `redis` –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–µ—Ç–∏ –∏ volumes
   - Health checks –¥–ª—è –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

3. **‚úÖ .dockerignore** ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - –ò—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã (__pycache__, .venv, –ª–æ–≥–∏, .git)
   - –ò—Å–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ —Ç–µ—Å—Ç—ã

4. **‚úÖ requirements.txt** ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω—ã
   - –í–µ—Ä—Å–∏–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã

5. **‚úÖ DOCKER_SETUP.md** ‚Äî –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é Docker
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

- ‚úÖ README.md ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ REDIS_SETUP.md ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Redis
- ‚úÖ NOTIFICATIONS_SETUP.md ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã

### 1. ‚ùå .env.example –∏–ª–∏ .env.template

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å `.env.example` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.

**–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

```env
# PostgreSQL (–ë–î RM)
POSTGRE_HOST=192.168.1.139
POSTGRE_PORT=5432
POSTGRE_USER=postgres
POSTGRE_PASSWORD=your_password
POSTGRE_DBNAME=RM
POSTGRE_SSLMODE=prefer

# PostgreSQL (–ë–î equipment)
EQUIPMENT_DB_NAME=equipment
EQUIPMENT_DB_HOST=192.168.1.139
EQUIPMENT_DB_PORT=5432
EQUIPMENT_DB_USER=postgres
EQUIPMENT_DB_PASSWORD=your_password
EQUIPMENT_DB_SSLMODE=prefer

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_ENABLED=true

# –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
CACHE_TTL_HEATMAP=300
CACHE_TTL_DASHBOARD=600
CACHE_TTL_EQUIPMENT=1800
CACHE_TTL_CATEGORIES=1800
CACHE_TTL_SI_MODULE=900
CACHE_TTL_USERS=1800

# SMTP –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=587
SMTP_USER=your_email@yandex.ru
SMTP_PASSWORD=your_password
SMTP_FROM_EMAIL=your_email@yandex.ru
SMTP_FROM_NAME=WSB Portal
ENABLE_EMAIL=true

# JWT –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
AUTH_SECRET_KEY=your_secret_key_here_min_32_chars
AUTH_ALGORITHM=HS256
AUTH_ACCESS_MINUTES=720
AUTH_RESET_MINUTES=60

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_AUTH_PER_MINUTE=5

# CSRF (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
CSRF_SECRET_KEY=

# –ü—É–±–ª–∏—á–Ω—ã–π URL –ø–æ—Ä—Ç–∞–ª–∞ (–¥–ª—è —Å—Å—ã–ª–æ–∫ –≤ email)
PORTAL_PUBLIC_URL=http://192.168.1.139:8090
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ Dockerfile

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –æ–±—Ä–∞–∑ `python:3.11-slim`
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
3. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–Ω–∞—á–∞–ª–∞ requirements.txt, –∑–∞—Ç–µ–º –∫–æ–¥)
4. –ù–∞—Å—Ç—Ä–æ–µ–Ω health check
5. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `--no-cache-dir` –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è —Å–±–æ—Ä–∫–∞ (multi-stage build)**
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞
   - –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ —É–ª—É—á—à–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–µ—à–∞ pip**
   - –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ requirements.txt –ø–µ—Ä–µ–¥ –∫–æ–¥–æ–º)

3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ root-–ø—Ä–∞–≤**
   - –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ docker-compose.yml

### ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (`depends_on` —Å `condition: service_healthy`)
2. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã health checks –¥–ª—è –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
3. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏
4. –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã volumes –¥–ª—è Redis (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö)
5. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞**
   - –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker secrets –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

2. **–õ–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤**
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `deploy.resources.limits` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ requirements.txt

### ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

- FastAPI –∏ Uvicorn
- PostgreSQL –¥—Ä–∞–π–≤–µ—Ä (psycopg)
- Redis –∫–ª–∏–µ–Ω—Ç
- Plotly –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ä–æ–ª—è–º–∏ –∏ JWT
- APScheduler –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ (openpyxl, reportlab)

### ‚ö†Ô∏è –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

1. **email-validator** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è EmailStr –∏–∑ Pydantic)
   - –í –∫–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `EmailStr` –≤ `ResetPasswordRequest`
   - –¢—Ä–µ–±—É–µ—Ç—Å—è `email-validator` –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `pydantic[email]`
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å `email-validator==2.1.0` –≤ requirements.txt

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ Docker

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- [x] Dockerfile
- [x] docker-compose.yml
- [x] .dockerignore
- [x] requirements.txt
- [ ] .env.example (‚ö†Ô∏è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Dockerfile
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã health checks
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã volumes –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Å–µ—Ç–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] DOCKER_SETUP.md –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- [x] README.md —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Docker
- [ ] .env.example –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (‚ö†Ô∏è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å)

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [x] –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ requirements.txt
- [ ] email-validator (‚ö†Ô∏è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è EmailStr)

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

1. **–°–æ–∑–¥–∞—Ç—å .env.example**
   - –®–∞–±–ª–æ–Ω —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
   - –ë–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π –∏ —Å–µ–∫—Ä–µ—Ç–æ–≤

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ email-validator**
   - –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è EmailStr, –¥–æ–±–∞–≤–∏—Ç—å –≤ requirements.txt
   - –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `pydantic[email]`

### –í–∞–∂–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–î–æ–±–∞–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ docker-compose.yml**
   ```yaml
   deploy:
     resources:
       limits:
         cpus: '1'
         memory: 512M
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –î–æ–±–∞–≤–∏—Ç—å –¥—Ä–∞–π–≤–µ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤

3. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ root-–ø—Ä–∞–≤ –≤ Dockerfile**
   ```dockerfile
   RUN useradd -m -u 1000 appuser
   USER appuser
   ```

4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Dockerfile (multi-stage build)**
   - –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞
   - –£—Å–∫–æ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å)

1. –î–æ–±–∞–≤–∏—Ç—å nginx reverse-proxy
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus, Grafana)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Docker: 8/10**

### –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- ‚úÖ Dockerfile –∏ docker-compose.yml –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ Health checks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:
- ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å .env.example
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å/–¥–æ–±–∞–≤–∏—Ç—å email-validator –≤ requirements.txt
- üí° –î–æ–±–∞–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤
- üí° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Dockerfile (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Ä–∞–∑–º–µ—Ä)

## üìù –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. **–°–æ–∑–¥–∞—Ç—å .env.example** (5 –º–∏–Ω—É—Ç)
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å email-validator** (2 –º–∏–Ω—É—Ç—ã)
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –æ–±—Ä–∞–∑–∞** (10 –º–∏–Ω—É—Ç)
   ```bash
   docker-compose build
   docker-compose up -d
   ```
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (5 –º–∏–Ω—É—Ç)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health checks
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Redis
5. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Dockerfile** (30 –º–∏–Ω—É—Ç)

---

**–í—ã–≤–æ–¥:** –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–Ω–æ—Å—É –≤ Docker. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å .env.example –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ email-validator. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–µ–ø–ª–æ–π.

